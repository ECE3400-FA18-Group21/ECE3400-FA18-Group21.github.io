<!DOCTYPE html>
<!-- ECE 3400 | Fall 2018
website for Team 21
Created: 08/29/2018
Updated: 11/29/2018 -->

<html lang="en">

  <head>
    <meta name="referrer" content="origin">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Used to document the work of Team 21 during the
    Fall 2018 semester of ECE 3400: Intelligent Physical Systems at Cornell University">
    <meta name="keywords" content="Cornell, Engineering, ECE 3400, Robotics, Maze, Win">
    <meta name="author" content="â€‹Brian Richard, Eric Lei, Kenneth Fang, Tyler Sherman">

    <title>ECE 3400 | Fall 2018 - Team 21</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="css/agency.css" rel="stylesheet">
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=desert"></script>

    <!--favicon support for all modern browsers / mobile devices-->
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
    <link rel="manifest" href="img/favicon/site.webmanifest">
    <link rel="mask-icon" href="img/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="img/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="img/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

  </head>


  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">ECE 3400 - Team 21</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav text-uppercase ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="index.html">Home</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Milestones
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="milestone1.html#report">Milestone 1</a>
                <a class="dropdown-item" href="milestone2.html#report">Milestone 2</a>
                <a class="dropdown-item" href="milestone3.html#report">Milestone 3</a>
                <a class="dropdown-item" href="milestone4.html#report">Milestone 4</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Labs
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="lab1.html#report">Lab 1</a>
                <a class="dropdown-item" href="lab2.html#report">Lab 2</a>
                <a class="dropdown-item" href="lab3.html#report">Lab 3</a>
                <a class="dropdown-item" href="lab4.html#report">Lab 4</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Links
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="team-contract.html#contract">Team Contract</a>
                <a class="dropdown-item" href="meeting-minutes.html#minutes">Meeting Minutes</a>
                <a class="dropdown-item" href="ethics.html#assignment">Ethics Homework</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" target="_blank" href="https://github.com/ECE3400-FA18-Group21/ECE3400-FA18-Group21.github.io/tree/master">Github</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead">
      <div class="container">
        <div class="intro-text">
          <div class="intro-lead-in">Team 21</div>
          <div class="intro-heading text-uppercase">The Smart Bet</div>
          <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="#report">Tell Me More</a>
        </div>
      </div>
    </header>

    <!--THIS IS WHERE THE TEXT WILL GO-->
    <div class="container" id="report">
      <br><br>
      <h1 class="page-header text-center">Milestone 4</h1>
      <hr>
      <h4 class="page-header text-left">Milestone Goals</h4>
      <p>
        Improve the image processor to add the following functionality:
        <ul>
          <li>Treasure recognition</li>
          <li>Treasure color detection</li>
          <li>Treasure shape detection</li>
          <li>FPGA-to-Arduino notification of detected treasure</li>
        </ul>
      </p>
      <hr>

      <h4 class="page-header text-left">Troubleshooting</h4>
      <p><u>Issues</u><br>
        During Lab 4, and throughout the past few weeks working on Milestone 4,
        our group became aware of issues affecting our camera-FPGA setup.
        The performance of the camera would drastically degrade over time. The
        longer we ran the camera, the more dim it would become. Noise, visible
        as rainbow bars on the camera output, would appear and eventually
        consume the image.
      </p>
      <p><u>Checking the Arduino</u><br>
        To confirm that the Arduino code used to setup
        the cameras was not to blame, we checked the register values with the
        TAs, as well as against other groups. Our registers, however, appear
        to be set correctly.
      </p>
      <p><u>Checking the Verilog</u><br>
        Next, we investigated our Verilog code. After spending over two weeks
        with little to no progress, we decided to test our system with another
        group's working code. We used Verilog code from both Team 3 and Team 5,
        with the only edits being the I/O pin numbers to match our physical setup.
        Unfortunately, neither group's code worked properly, which confirmed our
        suspicions of hardware issues.
      </p>
      <p><u>Checking the Hardware</u><br>
        Our group did <i>not</i> receive a ribbon cable during Lab 4. Since
        there were no more female-to-female cables available, we were forced to
        cut and crimp our own wires. Although we have tested for connectivity,
        the wiring is a major concern for us. In addition, we fear that our
        camera might be broken, but since there are no cameras left, we are
        unable to test this hypothesis
      <p><u>Conclusion</u><br>
        As a result, we have been unable to fully implement or test our Tresure
        Detection. Nonetheless, we have came up with the algorithms and ideas that
        we <i>would</i> implement if we had functioning hardware. In addition,
        we have taken the steps to integrate Treasure Detection into our full
        Arduino system. We connected 3 GPIO pins from the FPGA to the Arduino to
        transmit the information, updated our Arduino's Radio Communication protocoal
        to handle the additional information, and modified our <i>update_GUI()</i>
        function (used by the Base Station) to output treasure information.
      </p>

      <h4 class="page-header text-left">Image Processing and Storage</h4>
      <ul class="list-bullet">
        <li>Inspired by Team 3 (Pulse)</li>
        <li>Break up  image into 3 sections diagonally</li>
        <img src="img/milestone4/image_proc.png" style="width:40%">
        <li>Create six counters: one for each color (blue and red) for each of the three sections on the diagonal</li>
        <li>In each section, increment the blue or red counter if a majority blue or majority red pixel was seen respectively</li>
      </ul>
      <h4 class="page-header text-left">Image Analysis for Color and Shape Detection</h4>
      <ul class="list-bullet">
        <li>Based on the pixel/color counts, we can determine which shape and which color was detected
</li>
        <ul>
        	<li>If only the center has lots of blue (or red) majority pixels, then was most likely a blue (or red) diamond
			</li>
			<li>If the center and bottom right sections contain blue (or red) majority pixels, most likely triangle
			</li>
			<li>If all three sections contain blue (or red) majority pixels, most likely square</li>
        </ul>
      </ul>
      <h4 class="page-header text-left">Encoding</h4>
      <ul class="list-bullet">
        <li>We connected 3 GPIO pins on the FPGA to 3 digital I/O pins on the Arduino</li>
        <li>The Arduino periodically polls these inputs</li>
        <ul>
          <li>We have a variable for each of the 6 possible treasure types</li>
          <li>To prevent false-positives, upon detecting a treasure we increment
            the counter for that treasure type and reset the other counters to 0</li>
          <li>We only declare that a treasure has truly been found if the counter
            rises above a threshold</li>
          <li>If none of the counters are greater than the threshold, there is no treasure present</li>
          <li>This information is then re-encoded into 3 bits and sent to the Base Station using our Radio</li>
        </ul>
        <li>The following encoding scheme is used throughout the robot:</li>
      </ul>
      <div class="container">
        <div class="row">
          <div class="col-md-2">
          </div>
          <div class="col-md-8">
            <div class="thumbnail">
              <img src="img/milestone4/full_system_encoding.png" style="width:100%">
              <div class="caption text-center">
              </div>
            </div>
          </div>
          <div class="col-md-2">
          </div>
        </div>
      </div>




      <br><hr>
      <h3 class="page-header text-center">Treasure Detection Demonstration</h3>
      <p>This video demonstrates our robot completing all required behaviors:</p>
      <ul>
        <li>Robot capable of detecting when there are/are not treasures</li>
        <li>Robot capable of distinguishing between red and blue treasures</li>
        <li>Robot capable of distinguishing a square, triangle, and diamond shape</li>
        <li>Transmitting treasure detection information from the FPGA to the Arduino</li>
      </ul>
      <p><b>Unfortunately, as mentioned above, we do not have a video demonstration
        at this time :'(</b></p>
      <!--<div class="embed-responsive embed-responsive-21by9">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/JfasRdmIlkU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>-->
    </div>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-md-3">
          </div>
          <div class="col-md-6">
            <span class="copyright">Copyright &copy; 2018, Team 21 of ECE 3400 | Fall 2018.
              <br>
              Theme Made Using <a target="_blank" href="http://getbootstrap.com">Bootstrap
            </span>
          </div>
          <div class="col-md-3">
            <ul class="list-inline quicklinks">
              <li class="list-inline-item">
                <a target="_blank" href="https://cei-lab.github.io/ece3400-2018/">ECE 3400 Course Page</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
          </div>
          <div class="col-md-4">
            <ul class="list-inline social-buttons">
              <li class="list-inline-item">
                <a target="_blank" href="https://github.com/ECE3400-FA18-Group21/ECE3400-FA18-Group21.github.io/tree/master">
                  <i class="fab fa-github"></i>
                </a>
              </li>
            </ul>
          </div>
          <div class="col-md-4">
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Contact form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/agency.min.js"></script>

  </body>

</html>
